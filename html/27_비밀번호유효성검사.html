<!DOCTYPE html>
<html>
    <head>
<meta charset="UTF-8">
<title>비밀번호 유효성 검사</title>
    </head>
    <style>
        .check {
          color: green;
        }
        .error {
          color: red;
        }
      </style>
    <body>
        <h1>회원가입</h1>
        <form>
        <h2>비밀번호</h2>
        <input type="text" class="signup-input" id="inputPW" name="user_PW">
        <br>
        <span class="input-result">영어,숫자 8~20 글자 사이</span>
    </form>
    <script>
        const checkList = {
            inputId: false,
        };
        const inputPW = document.querySelector("#inputPW");
        
        inputId.addEventListener("input",(e)=>{
            const value = e.target.value;
            const span = e.target.nextElementSibling.nextElementSibling;

        if(value.trim().length ==0){
            span.textContent = "영어,숫자 8~20 글자 사이";
            span.classList.remove("check","error");
            e.target.value ="";
            checkList["inputPW"] = false;
            return;
        }
        const 비밀번호정규식=/^[A-Za-z0-9]{8,20}$/;

        if(비밀번호정규식.test(value)){
            span.textContent = "유효한 비밀번호입니다.";
            span.classList.add("check");
            span.classList.remove("error");
            checkList["inputPW"] = true;
        } else{
            span.textContent = "유효하지 않은 비밀번호입니다.";
            span.classList.add("error");
            span.classList.remove("check");
            checkList["inputPW"] = false;
        }
        });
    </script>
    </body>
</html>